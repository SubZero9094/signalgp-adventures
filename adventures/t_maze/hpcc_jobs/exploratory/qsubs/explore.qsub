#!/bin/bash -login

### Configure job:
#PBS -l walltime=07:00:00:00
#PBS -l feature=intel16
#PBS -l mem=8gb
#PBS -t 1-400
#PBS -N SignalGP_TMaze

### load necessary modules, e.g.
module load powertools

# General Parameters.
RANDOM_SEED=${PBS_ARRAYID}

DATA_DIR=/mnt/scratch/lalejini/data/sgp_tmaze/data
CONFIG_DIR=/mnt/scratch/lalejini/data/sgp_tmaze/configs

# Tag width = 16
EXStep_TW16_WSMemAT0_WFRModAT0_FRModAdjust0.0625_BT75_MINRID=1
EXStep_TW16_WSMemAT0_WFRModAT0_FRModAdjust0.0625_BT75_MAXRID=10
EXStep_TW16_WSMemAT0_WFRModAT0_FRModAdjust0.0625_BT50_MINRID=11
EXStep_TW16_WSMemAT0_WFRModAT0_FRModAdjust0.0625_BT50_MAXRID=20
EXStep_TW16_WSMemAT0_WFRModAT0_FRModAdjust0.0625_BT0_MINRID=21
EXStep_TW16_WSMemAT0_WFRModAT0_FRModAdjust0.0625_BT0_MAXRID=30
EXStep_TW16_WSMemAT0_WFRModAT0_FRModAdjust0.125_BT75_MINRID=31
EXStep_TW16_WSMemAT0_WFRModAT0_FRModAdjust0.125_BT75_MAXRID=40
EXStep_TW16_WSMemAT0_WFRModAT0_FRModAdjust0.125_BT50_MINRID=41
EXStep_TW16_WSMemAT0_WFRModAT0_FRModAdjust0.125_BT50_MAXRID=50
EXStep_TW16_WSMemAT0_WFRModAT0_FRModAdjust0.125_BT0_MINRID=51
EXStep_TW16_WSMemAT0_WFRModAT0_FRModAdjust0.125_BT0_MAXRID=60
EXStep_TW16_WSMemAT0_WFRModAT0_FRModAdjust0.25_BT75_MINRID=61
EXStep_TW16_WSMemAT0_WFRModAT0_FRModAdjust0.25_BT75_MAXRID=70
EXStep_TW16_WSMemAT0_WFRModAT0_FRModAdjust0.25_BT50_MINRID=71
EXStep_TW16_WSMemAT0_WFRModAT0_FRModAdjust0.25_BT50_MAXRID=80
EXStep_TW16_WSMemAT0_WFRModAT0_FRModAdjust0.25_BT0_MINRID=81
EXStep_TW16_WSMemAT0_WFRModAT0_FRModAdjust0.25_BT0_MAXRID=90

EXStep_TW16_WSMemAT1_WFRModAT0_FRModAdjust0.0625_BT75_MINRID=91
EXStep_TW16_WSMemAT1_WFRModAT0_FRModAdjust0.0625_BT75_MAXRID=100
EXStep_TW16_WSMemAT1_WFRModAT0_FRModAdjust0.0625_BT50_MINRID=101
EXStep_TW16_WSMemAT1_WFRModAT0_FRModAdjust0.0625_BT50_MAXRID=110
EXStep_TW16_WSMemAT1_WFRModAT0_FRModAdjust0.0625_BT0_MINRID=111
EXStep_TW16_WSMemAT1_WFRModAT0_FRModAdjust0.0625_BT0_MAXRID=120
EXStep_TW16_WSMemAT1_WFRModAT0_FRModAdjust0.125_BT75_MINRID=121
EXStep_TW16_WSMemAT1_WFRModAT0_FRModAdjust0.125_BT75_MAXRID=130
EXStep_TW16_WSMemAT1_WFRModAT0_FRModAdjust0.125_BT50_MINRID=131
EXStep_TW16_WSMemAT1_WFRModAT0_FRModAdjust0.125_BT50_MAXRID=140
EXStep_TW16_WSMemAT1_WFRModAT0_FRModAdjust0.125_BT0_MINRID=141
EXStep_TW16_WSMemAT1_WFRModAT0_FRModAdjust0.125_BT0_MAXRID=150
EXStep_TW16_WSMemAT1_WFRModAT0_FRModAdjust0.25_BT75_MINRID=151
EXStep_TW16_WSMemAT1_WFRModAT0_FRModAdjust0.25_BT75_MAXRID=160
EXStep_TW16_WSMemAT1_WFRModAT0_FRModAdjust0.25_BT50_MINRID=161
EXStep_TW16_WSMemAT1_WFRModAT0_FRModAdjust0.25_BT50_MAXRID=170
EXStep_TW16_WSMemAT1_WFRModAT0_FRModAdjust0.25_BT0_MINRID=171
EXStep_TW16_WSMemAT1_WFRModAT0_FRModAdjust0.25_BT0_MAXRID=180

EXStep_TW16_WSMemAT0_WFRModAT1_FRModAdjust0.125_BT50_MINRID=181
EXStep_TW16_WSMemAT0_WFRModAT1_FRModAdjust0.125_BT50_MAXRID=190

EXStep_TW16_WSMemAT1_WFRModAT1_FRModAdjust0.125_BT50_MINRID=191
EXStep_TW16_WSMemAT1_WFRModAT1_FRModAdjust0.125_BT50_MAXRID=200

# Tag width = 32
EXStep_TW32_WSMemAT0_WFRModAT0_FRModAdjust0.0625_BT75_MINRID=201
EXStep_TW32_WSMemAT0_WFRModAT0_FRModAdjust0.0625_BT75_MAXRID=210
EXStep_TW32_WSMemAT0_WFRModAT0_FRModAdjust0.0625_BT50_MINRID=211
EXStep_TW32_WSMemAT0_WFRModAT0_FRModAdjust0.0625_BT50_MAXRID=220
EXStep_TW32_WSMemAT0_WFRModAT0_FRModAdjust0.0625_BT0_MINRID=221
EXStep_TW32_WSMemAT0_WFRModAT0_FRModAdjust0.0625_BT0_MAXRID=230
EXStep_TW32_WSMemAT0_WFRModAT0_FRModAdjust0.125_BT75_MINRID=231
EXStep_TW32_WSMemAT0_WFRModAT0_FRModAdjust0.125_BT75_MAXRID=240
EXStep_TW32_WSMemAT0_WFRModAT0_FRModAdjust0.125_BT50_MINRID=241
EXStep_TW32_WSMemAT0_WFRModAT0_FRModAdjust0.125_BT50_MAXRID=250
EXStep_TW32_WSMemAT0_WFRModAT0_FRModAdjust0.125_BT0_MINRID=251
EXStep_TW32_WSMemAT0_WFRModAT0_FRModAdjust0.125_BT0_MAXRID=260
EXStep_TW32_WSMemAT0_WFRModAT0_FRModAdjust0.25_BT75_MINRID=261
EXStep_TW32_WSMemAT0_WFRModAT0_FRModAdjust0.25_BT75_MAXRID=270
EXStep_TW32_WSMemAT0_WFRModAT0_FRModAdjust0.25_BT50_MINRID=271
EXStep_TW32_WSMemAT0_WFRModAT0_FRModAdjust0.25_BT50_MAXRID=280
EXStep_TW32_WSMemAT0_WFRModAT0_FRModAdjust0.25_BT0_MINRID=281
EXStep_TW32_WSMemAT0_WFRModAT0_FRModAdjust0.25_BT0_MAXRID=290

EXStep_TW32_WSMemAT1_WFRModAT0_FRModAdjust0.0625_BT75_MINRID=291
EXStep_TW32_WSMemAT1_WFRModAT0_FRModAdjust0.0625_BT75_MAXRID=300
EXStep_TW32_WSMemAT1_WFRModAT0_FRModAdjust0.0625_BT50_MINRID=301
EXStep_TW32_WSMemAT1_WFRModAT0_FRModAdjust0.0625_BT50_MAXRID=310
EXStep_TW32_WSMemAT1_WFRModAT0_FRModAdjust0.0625_BT0_MINRID=311
EXStep_TW32_WSMemAT1_WFRModAT0_FRModAdjust0.0625_BT0_MAXRID=320
EXStep_TW32_WSMemAT1_WFRModAT0_FRModAdjust0.125_BT75_MINRID=321
EXStep_TW32_WSMemAT1_WFRModAT0_FRModAdjust0.125_BT75_MAXRID=330
EXStep_TW32_WSMemAT1_WFRModAT0_FRModAdjust0.125_BT50_MINRID=331
EXStep_TW32_WSMemAT1_WFRModAT0_FRModAdjust0.125_BT50_MAXRID=340
EXStep_TW32_WSMemAT1_WFRModAT0_FRModAdjust0.125_BT0_MINRID=341
EXStep_TW32_WSMemAT1_WFRModAT0_FRModAdjust0.125_BT0_MAXRID=350
EXStep_TW32_WSMemAT1_WFRModAT0_FRModAdjust0.25_BT75_MINRID=351
EXStep_TW32_WSMemAT1_WFRModAT0_FRModAdjust0.25_BT75_MAXRID=360
EXStep_TW32_WSMemAT1_WFRModAT0_FRModAdjust0.25_BT50_MINRID=361
EXStep_TW32_WSMemAT1_WFRModAT0_FRModAdjust0.25_BT50_MAXRID=370
EXStep_TW32_WSMemAT1_WFRModAT0_FRModAdjust0.25_BT0_MINRID=371
EXStep_TW32_WSMemAT1_WFRModAT0_FRModAdjust0.25_BT0_MAXRID=380

EXStep_TW32_WSMemAT0_WFRModAT1_FRModAdjust0.125_BT50_MINRID=381
EXStep_TW32_WSMemAT0_WFRModAT1_FRModAdjust0.125_BT50_MAXRID=390

EXStep_TW32_WSMemAT1_WFRModAT1_FRModAdjust0.125_BT50_MINRID=391
EXStep_TW32_WSMemAT1_WFRModAT1_FRModAdjust0.125_BT50_MAXRID=400


# Treatment: EXStep_TW16_WSMemAT0_WFRModAT0_FRModAdjust0.0625_BT75
if [ ${PBS_ARRAYID} -ge ${EXStep_TW16_WSMemAT0_WFRModAT0_FRModAdjust0.0625_BT75_MINRID} ] && [ ${PBS_ARRAYID} -le ${EXStep_TW16_WSMemAT0_WFRModAT0_FRModAdjust0.0625_BT75_MAXRID} ]; then
  TAG_WIDTH=16
  AFTER_MAZE_TRIAL__WIPE_SHARED_MEM=0
  AFTER_MAZE_TRIAL__CLEAR_FUNC_REF_MODS=0
  REF_MOD_ADJUSTMENT_VALUE=0.0625
  SGP_HW_MIN_BIND_THRESH=0.75

# Treatment: EXStep_TW16_WSMemAT0_WFRModAT0_FRModAdjust0.0625_BT50
elif [ ${PBS_ARRAYID} -ge ${EXStep_TW16_WSMemAT0_WFRModAT0_FRModAdjust0.0625_BT50_MINRID} ] && [ ${PBS_ARRAYID} -le ${EXStep_TW16_WSMemAT0_WFRModAT0_FRModAdjust0.0625_BT50_MAXRID} ]; then
  TAG_WIDTH=16
  AFTER_MAZE_TRIAL__WIPE_SHARED_MEM=0
  AFTER_MAZE_TRIAL__CLEAR_FUNC_REF_MODS=0
  REF_MOD_ADJUSTMENT_VALUE=0.0625
  SGP_HW_MIN_BIND_THRESH=0.50

# Treatment: EXStep_TW16_WSMemAT0_WFRModAT0_FRModAdjust0.0625_BT0
elif [ ${PBS_ARRAYID} -ge ${EXStep_TW16_WSMemAT0_WFRModAT0_FRModAdjust0.0625_BT0_MINRID} ] && [ ${PBS_ARRAYID} -le ${EXStep_TW16_WSMemAT0_WFRModAT0_FRModAdjust0.0625_BT0_MAXRID} ]; then
  TAG_WIDTH=16
  AFTER_MAZE_TRIAL__WIPE_SHARED_MEM=0
  AFTER_MAZE_TRIAL__CLEAR_FUNC_REF_MODS=0
  REF_MOD_ADJUSTMENT_VALUE=0.0625
  SGP_HW_MIN_BIND_THRESH=0.0

# Treatment: EXStep_TW16_WSMemAT0_WFRModAT0_FRModAdjust0.125_BT75
elif [ ${PBS_ARRAYID} -ge ${EXStep_TW16_WSMemAT0_WFRModAT0_FRModAdjust0.125_BT75_MINRID} ] && [ ${PBS_ARRAYID} -le ${EXStep_TW16_WSMemAT0_WFRModAT0_FRModAdjust0.125_BT75_MAXRID} ]; then
  TAG_WIDTH=16
  AFTER_MAZE_TRIAL__WIPE_SHARED_MEM=0
  AFTER_MAZE_TRIAL__CLEAR_FUNC_REF_MODS=0
  REF_MOD_ADJUSTMENT_VALUE=0.125
  SGP_HW_MIN_BIND_THRESH=0.75

# Treatment: EXStep_TW16_WSMemAT0_WFRModAT0_FRModAdjust0.125_BT50
elif [ ${PBS_ARRAYID} -ge ${EXStep_TW16_WSMemAT0_WFRModAT0_FRModAdjust0.125_BT50_MINRID} ] && [ ${PBS_ARRAYID} -le ${EXStep_TW16_WSMemAT0_WFRModAT0_FRModAdjust0.125_BT50_MAXRID} ]; then
  TAG_WIDTH=16
  AFTER_MAZE_TRIAL__WIPE_SHARED_MEM=0
  AFTER_MAZE_TRIAL__CLEAR_FUNC_REF_MODS=0
  REF_MOD_ADJUSTMENT_VALUE=0.125
  SGP_HW_MIN_BIND_THRESH=0.50

# Treatment: EXStep_TW16_WSMemAT0_WFRModAT0_FRModAdjust0.125_BT0
elif [ ${PBS_ARRAYID} -ge ${EXStep_TW16_WSMemAT0_WFRModAT0_FRModAdjust0.125_BT0_MINRID} ] && [ ${PBS_ARRAYID} -le ${EXStep_TW16_WSMemAT0_WFRModAT0_FRModAdjust0.125_BT0_MAXRID} ]; then
  TAG_WIDTH=16
  AFTER_MAZE_TRIAL__WIPE_SHARED_MEM=0
  AFTER_MAZE_TRIAL__CLEAR_FUNC_REF_MODS=0
  REF_MOD_ADJUSTMENT_VALUE=0.125
  SGP_HW_MIN_BIND_THRESH=0.0

# Treatment: EXStep_TW16_WSMemAT0_WFRModAT0_FRModAdjust0.25_BT75
elif [ ${PBS_ARRAYID} -ge ${EXStep_TW16_WSMemAT0_WFRModAT0_FRModAdjust0.25_BT75_MINRID} ] && [ ${PBS_ARRAYID} -le ${EXStep_TW16_WSMemAT0_WFRModAT0_FRModAdjust0.25_BT75_MAXRID} ]; then
  TAG_WIDTH=16
  AFTER_MAZE_TRIAL__WIPE_SHARED_MEM=0
  AFTER_MAZE_TRIAL__CLEAR_FUNC_REF_MODS=0
  REF_MOD_ADJUSTMENT_VALUE=0.25
  SGP_HW_MIN_BIND_THRESH=0.75

# Treatment: EXStep_TW16_WSMemAT0_WFRModAT0_FRModAdjust0.25_BT50
elif [ ${PBS_ARRAYID} -ge ${EXStep_TW16_WSMemAT0_WFRModAT0_FRModAdjust0.25_BT50_MINRID} ] && [ ${PBS_ARRAYID} -le ${EXStep_TW16_WSMemAT0_WFRModAT0_FRModAdjust0.25_BT50_MAXRID} ]; then
  TAG_WIDTH=16
  AFTER_MAZE_TRIAL__WIPE_SHARED_MEM=0
  AFTER_MAZE_TRIAL__CLEAR_FUNC_REF_MODS=0
  REF_MOD_ADJUSTMENT_VALUE=0.25
  SGP_HW_MIN_BIND_THRESH=0.50

# Treatment: EXStep_TW16_WSMemAT0_WFRModAT0_FRModAdjust0.25_BT0
elif [ ${PBS_ARRAYID} -ge ${EXStep_TW16_WSMemAT0_WFRModAT0_FRModAdjust0.25_BT0_MINRID} ] && [ ${PBS_ARRAYID} -le ${EXStep_TW16_WSMemAT0_WFRModAT0_FRModAdjust0.25_BT0_MAXRID} ]; then
  TAG_WIDTH=16
  AFTER_MAZE_TRIAL__WIPE_SHARED_MEM=0
  AFTER_MAZE_TRIAL__CLEAR_FUNC_REF_MODS=0
  REF_MOD_ADJUSTMENT_VALUE=0.25
  SGP_HW_MIN_BIND_THRESH=0.0

# Treatment: EXStep_TW16_WSMemAT1_WFRModAT0_FRModAdjust0.0625_BT75
elif [ ${PBS_ARRAYID} -ge ${EXStep_TW16_WSMemAT1_WFRModAT0_FRModAdjust0.0625_BT75_MINRID} ] && [ ${PBS_ARRAYID} -le ${EXStep_TW16_WSMemAT1_WFRModAT0_FRModAdjust0.0625_BT75_MAXRID} ]; then
  TAG_WIDTH=16
  AFTER_MAZE_TRIAL__WIPE_SHARED_MEM=1
  AFTER_MAZE_TRIAL__CLEAR_FUNC_REF_MODS=0
  REF_MOD_ADJUSTMENT_VALUE=0.0625
  SGP_HW_MIN_BIND_THRESH=0.75

# Treatment: EXStep_TW16_WSMemAT1_WFRModAT0_FRModAdjust0.0625_BT50
elif [ ${PBS_ARRAYID} -ge ${EXStep_TW16_WSMemAT1_WFRModAT0_FRModAdjust0.0625_BT50_MINRID} ] && [ ${PBS_ARRAYID} -le ${EXStep_TW16_WSMemAT1_WFRModAT0_FRModAdjust0.0625_BT50_MAXRID} ]; then
  TAG_WIDTH=16
  AFTER_MAZE_TRIAL__WIPE_SHARED_MEM=1
  AFTER_MAZE_TRIAL__CLEAR_FUNC_REF_MODS=0
  REF_MOD_ADJUSTMENT_VALUE=0.0625
  SGP_HW_MIN_BIND_THRESH=0.50

# Treatment: EXStep_TW16_WSMemAT1_WFRModAT0_FRModAdjust0.0625_BT0
elif [ ${PBS_ARRAYID} -ge ${EXStep_TW16_WSMemAT1_WFRModAT0_FRModAdjust0.0625_BT0_MINRID} ] && [ ${PBS_ARRAYID} -le ${EXStep_TW16_WSMemAT1_WFRModAT0_FRModAdjust0.0625_BT0_MAXRID} ]; then
  TAG_WIDTH=16
  AFTER_MAZE_TRIAL__WIPE_SHARED_MEM=1
  AFTER_MAZE_TRIAL__CLEAR_FUNC_REF_MODS=0
  REF_MOD_ADJUSTMENT_VALUE=0.0625
  SGP_HW_MIN_BIND_THRESH=0.0

# Treatment: EXStep_TW16_WSMemAT1_WFRModAT0_FRModAdjust0.125_BT75
elif [ ${PBS_ARRAYID} -ge ${EXStep_TW16_WSMemAT1_WFRModAT0_FRModAdjust0.125_BT75_MINRID} ] && [ ${PBS_ARRAYID} -le ${EXStep_TW16_WSMemAT1_WFRModAT0_FRModAdjust0.125_BT75_MAXRID} ]; then
  TAG_WIDTH=16
  AFTER_MAZE_TRIAL__WIPE_SHARED_MEM=1
  AFTER_MAZE_TRIAL__CLEAR_FUNC_REF_MODS=0
  REF_MOD_ADJUSTMENT_VALUE=0.125
  SGP_HW_MIN_BIND_THRESH=0.75

# Treatment: EXStep_TW16_WSMemAT1_WFRModAT0_FRModAdjust0.125_BT50
elif [ ${PBS_ARRAYID} -ge ${EXStep_TW16_WSMemAT1_WFRModAT0_FRModAdjust0.125_BT50_MINRID} ] && [ ${PBS_ARRAYID} -le ${EXStep_TW16_WSMemAT1_WFRModAT0_FRModAdjust0.125_BT50_MAXRID} ]; then
  TAG_WIDTH=16
  AFTER_MAZE_TRIAL__WIPE_SHARED_MEM=1
  AFTER_MAZE_TRIAL__CLEAR_FUNC_REF_MODS=0
  REF_MOD_ADJUSTMENT_VALUE=0.125
  SGP_HW_MIN_BIND_THRESH=0.50

# Treatment: EXStep_TW16_WSMemAT1_WFRModAT0_FRModAdjust0.125_BT0
elif [ ${PBS_ARRAYID} -ge ${EXStep_TW16_WSMemAT1_WFRModAT0_FRModAdjust0.125_BT0_MINRID} ] && [ ${PBS_ARRAYID} -le ${EXStep_TW16_WSMemAT1_WFRModAT0_FRModAdjust0.125_BT0_MAXRID} ]; then
  TAG_WIDTH=16
  AFTER_MAZE_TRIAL__WIPE_SHARED_MEM=1
  AFTER_MAZE_TRIAL__CLEAR_FUNC_REF_MODS=0
  REF_MOD_ADJUSTMENT_VALUE=0.125
  SGP_HW_MIN_BIND_THRESH=0.0

# Treatment: EXStep_TW16_WSMemAT1_WFRModAT0_FRModAdjust0.25_BT75
elif [ ${PBS_ARRAYID} -ge ${EXStep_TW16_WSMemAT1_WFRModAT0_FRModAdjust0.25_BT75_MINRID} ] && [ ${PBS_ARRAYID} -le ${EXStep_TW16_WSMemAT1_WFRModAT0_FRModAdjust0.25_BT75_MAXRID} ]; then
  TAG_WIDTH=16
  AFTER_MAZE_TRIAL__WIPE_SHARED_MEM=1
  AFTER_MAZE_TRIAL__CLEAR_FUNC_REF_MODS=0
  REF_MOD_ADJUSTMENT_VALUE=0.25
  SGP_HW_MIN_BIND_THRESH=0.75

# Treatment: EXStep_TW16_WSMemAT1_WFRModAT0_FRModAdjust0.25_BT50
elif [ ${PBS_ARRAYID} -ge ${EXStep_TW16_WSMemAT1_WFRModAT0_FRModAdjust0.25_BT50_MINRID} ] && [ ${PBS_ARRAYID} -le ${EXStep_TW16_WSMemAT1_WFRModAT0_FRModAdjust0.25_BT50_MAXRID} ]; then
  TAG_WIDTH=16
  AFTER_MAZE_TRIAL__WIPE_SHARED_MEM=1
  AFTER_MAZE_TRIAL__CLEAR_FUNC_REF_MODS=0
  REF_MOD_ADJUSTMENT_VALUE=0.25
  SGP_HW_MIN_BIND_THRESH=0.50

# Treatment: EXStep_TW16_WSMemAT1_WFRModAT0_FRModAdjust0.25_BT0
elif [ ${PBS_ARRAYID} -ge ${EXStep_TW16_WSMemAT1_WFRModAT0_FRModAdjust0.25_BT0_MINRID} ] && [ ${PBS_ARRAYID} -le ${EXStep_TW16_WSMemAT1_WFRModAT0_FRModAdjust0.25_BT0_MAXRID} ]; then
  TAG_WIDTH=16
  AFTER_MAZE_TRIAL__WIPE_SHARED_MEM=1
  AFTER_MAZE_TRIAL__CLEAR_FUNC_REF_MODS=0
  REF_MOD_ADJUSTMENT_VALUE=0.25
  SGP_HW_MIN_BIND_THRESH=0.0

# Treatment: EXStep_TW16_WSMemAT0_WFRModAT1_FRModAdjust0.125_BT50
elif [ ${PBS_ARRAYID} -ge ${EXStep_TW16_WSMemAT0_WFRModAT1_FRModAdjust0.125_BT50_MINRID} ] && [ ${PBS_ARRAYID} -le ${EXStep_TW16_WSMemAT0_WFRModAT1_FRModAdjust0.125_BT50_MAXRID} ]; then
  TAG_WIDTH=16
  AFTER_MAZE_TRIAL__WIPE_SHARED_MEM=0
  AFTER_MAZE_TRIAL__CLEAR_FUNC_REF_MODS=1
  REF_MOD_ADJUSTMENT_VALUE=0.125
  SGP_HW_MIN_BIND_THRESH=0.50

# Treatment: EXStep_TW16_WSMemAT1_WFRModAT1_FRModAdjust0.125_BT50
elif [ ${PBS_ARRAYID} -ge ${EXStep_TW16_WSMemAT1_WFRModAT1_FRModAdjust0.125_BT50_MINRID} ] && [ ${PBS_ARRAYID} -le ${EXStep_TW16_WSMemAT1_WFRModAT1_FRModAdjust0.125_BT50_MAXRID} ]; then
  TAG_WIDTH=16
  AFTER_MAZE_TRIAL__WIPE_SHARED_MEM=1
  AFTER_MAZE_TRIAL__CLEAR_FUNC_REF_MODS=1
  REF_MOD_ADJUSTMENT_VALUE=0.125
  SGP_HW_MIN_BIND_THRESH=0.50

# Treatment: EXStep_TW32_WSMemAT0_WFRModAT0_FRModAdjust0.0625_BT75
elif [ ${PBS_ARRAYID} -ge ${EXStep_TW32_WSMemAT0_WFRModAT0_FRModAdjust0.0625_BT75_MINRID} ] && [ ${PBS_ARRAYID} -le ${EXStep_TW32_WSMemAT0_WFRModAT0_FRModAdjust0.0625_BT75_MAXRID} ]; then
  TAG_WIDTH=32
  AFTER_MAZE_TRIAL__WIPE_SHARED_MEM=0
  AFTER_MAZE_TRIAL__CLEAR_FUNC_REF_MODS=0
  REF_MOD_ADJUSTMENT_VALUE=0.0625
  SGP_HW_MIN_BIND_THRESH=0.75

# Treatment: EXStep_TW32_WSMemAT0_WFRModAT0_FRModAdjust0.0625_BT50
elif [ ${PBS_ARRAYID} -ge ${EXStep_TW32_WSMemAT0_WFRModAT0_FRModAdjust0.0625_BT50_MINRID} ] && [ ${PBS_ARRAYID} -le ${EXStep_TW32_WSMemAT0_WFRModAT0_FRModAdjust0.0625_BT50_MAXRID} ]; then
  TAG_WIDTH=32
  AFTER_MAZE_TRIAL__WIPE_SHARED_MEM=0
  AFTER_MAZE_TRIAL__CLEAR_FUNC_REF_MODS=0
  REF_MOD_ADJUSTMENT_VALUE=0.0625
  SGP_HW_MIN_BIND_THRESH=0.50

# Treatment: EXStep_TW32_WSMemAT0_WFRModAT0_FRModAdjust0.0625_BT0
elif [ ${PBS_ARRAYID} -ge ${EXStep_TW32_WSMemAT0_WFRModAT0_FRModAdjust0.0625_BT0_MINRID} ] && [ ${PBS_ARRAYID} -le ${EXStep_TW32_WSMemAT0_WFRModAT0_FRModAdjust0.0625_BT0_MAXRID} ]; then
  TAG_WIDTH=32
  AFTER_MAZE_TRIAL__WIPE_SHARED_MEM=0
  AFTER_MAZE_TRIAL__CLEAR_FUNC_REF_MODS=0
  REF_MOD_ADJUSTMENT_VALUE=0.0625
  SGP_HW_MIN_BIND_THRESH=0.0

# Treatment: EXStep_TW32_WSMemAT0_WFRModAT0_FRModAdjust0.125_BT75
elif [ ${PBS_ARRAYID} -ge ${EXStep_TW32_WSMemAT0_WFRModAT0_FRModAdjust0.125_BT75_MINRID} ] && [ ${PBS_ARRAYID} -le ${EXStep_TW32_WSMemAT0_WFRModAT0_FRModAdjust0.125_BT75_MAXRID} ]; then
  TAG_WIDTH=32
  AFTER_MAZE_TRIAL__WIPE_SHARED_MEM=0
  AFTER_MAZE_TRIAL__CLEAR_FUNC_REF_MODS=0
  REF_MOD_ADJUSTMENT_VALUE=0.125
  SGP_HW_MIN_BIND_THRESH=0.75

# Treatment: EXStep_TW32_WSMemAT0_WFRModAT0_FRModAdjust0.125_BT50
elif [ ${PBS_ARRAYID} -ge ${EXStep_TW32_WSMemAT0_WFRModAT0_FRModAdjust0.125_BT50_MINRID} ] && [ ${PBS_ARRAYID} -le ${EXStep_TW32_WSMemAT0_WFRModAT0_FRModAdjust0.125_BT50_MAXRID} ]; then
  TAG_WIDTH=32
  AFTER_MAZE_TRIAL__WIPE_SHARED_MEM=0
  AFTER_MAZE_TRIAL__CLEAR_FUNC_REF_MODS=0
  REF_MOD_ADJUSTMENT_VALUE=0.125
  SGP_HW_MIN_BIND_THRESH=0.50

# Treatment: EXStep_TW32_WSMemAT0_WFRModAT0_FRModAdjust0.125_BT0
elif [ ${PBS_ARRAYID} -ge ${EXStep_TW32_WSMemAT0_WFRModAT0_FRModAdjust0.125_BT0_MINRID} ] && [ ${PBS_ARRAYID} -le ${EXStep_TW32_WSMemAT0_WFRModAT0_FRModAdjust0.125_BT0_MAXRID} ]; then
  TAG_WIDTH=32
  AFTER_MAZE_TRIAL__WIPE_SHARED_MEM=0
  AFTER_MAZE_TRIAL__CLEAR_FUNC_REF_MODS=0
  REF_MOD_ADJUSTMENT_VALUE=0.125
  SGP_HW_MIN_BIND_THRESH=0.0

# Treatment: EXStep_TW32_WSMemAT0_WFRModAT0_FRModAdjust0.25_BT75
elif [ ${PBS_ARRAYID} -ge ${EXStep_TW32_WSMemAT0_WFRModAT0_FRModAdjust0.25_BT75_MINRID} ] && [ ${PBS_ARRAYID} -le ${EXStep_TW32_WSMemAT0_WFRModAT0_FRModAdjust0.25_BT75_MAXRID} ]; then
  TAG_WIDTH=32
  AFTER_MAZE_TRIAL__WIPE_SHARED_MEM=0
  AFTER_MAZE_TRIAL__CLEAR_FUNC_REF_MODS=0
  REF_MOD_ADJUSTMENT_VALUE=0.25
  SGP_HW_MIN_BIND_THRESH=0.75

# Treatment: EXStep_TW32_WSMemAT0_WFRModAT0_FRModAdjust0.25_BT50
elif [ ${PBS_ARRAYID} -ge ${EXStep_TW32_WSMemAT0_WFRModAT0_FRModAdjust0.25_BT50_MINRID} ] && [ ${PBS_ARRAYID} -le ${EXStep_TW32_WSMemAT0_WFRModAT0_FRModAdjust0.25_BT50_MAXRID} ]; then
  TAG_WIDTH=32
  AFTER_MAZE_TRIAL__WIPE_SHARED_MEM=0
  AFTER_MAZE_TRIAL__CLEAR_FUNC_REF_MODS=0
  REF_MOD_ADJUSTMENT_VALUE=0.25
  SGP_HW_MIN_BIND_THRESH=0.50

# Treatment: EXStep_TW32_WSMemAT0_WFRModAT0_FRModAdjust0.25_BT0
elif [ ${PBS_ARRAYID} -ge ${EXStep_TW32_WSMemAT0_WFRModAT0_FRModAdjust0.25_BT0_MINRID} ] && [ ${PBS_ARRAYID} -le ${EXStep_TW32_WSMemAT0_WFRModAT0_FRModAdjust0.25_BT0_MAXRID} ]; then
  TAG_WIDTH=32
  AFTER_MAZE_TRIAL__WIPE_SHARED_MEM=0
  AFTER_MAZE_TRIAL__CLEAR_FUNC_REF_MODS=0
  REF_MOD_ADJUSTMENT_VALUE=0.25
  SGP_HW_MIN_BIND_THRESH=0.0

# Treatment: EXStep_TW32_WSMemAT1_WFRModAT0_FRModAdjust0.0625_BT75
elif [ ${PBS_ARRAYID} -ge ${EXStep_TW32_WSMemAT1_WFRModAT0_FRModAdjust0.0625_BT75_MINRID} ] && [ ${PBS_ARRAYID} -le ${EXStep_TW32_WSMemAT1_WFRModAT0_FRModAdjust0.0625_BT75_MAXRID} ]; then
  TAG_WIDTH=32
  AFTER_MAZE_TRIAL__WIPE_SHARED_MEM=1
  AFTER_MAZE_TRIAL__CLEAR_FUNC_REF_MODS=0
  REF_MOD_ADJUSTMENT_VALUE=0.0625
  SGP_HW_MIN_BIND_THRESH=0.75

# Treatment: EXStep_TW32_WSMemAT1_WFRModAT0_FRModAdjust0.0625_BT50
elif [ ${PBS_ARRAYID} -ge ${EXStep_TW32_WSMemAT1_WFRModAT0_FRModAdjust0.0625_BT50_MINRID} ] && [ ${PBS_ARRAYID} -le ${EXStep_TW32_WSMemAT1_WFRModAT0_FRModAdjust0.0625_BT50_MAXRID} ]; then
  TAG_WIDTH=32
  AFTER_MAZE_TRIAL__WIPE_SHARED_MEM=1
  AFTER_MAZE_TRIAL__CLEAR_FUNC_REF_MODS=0
  REF_MOD_ADJUSTMENT_VALUE=0.0625
  SGP_HW_MIN_BIND_THRESH=0.50

# Treatment: EXStep_TW32_WSMemAT1_WFRModAT0_FRModAdjust0.0625_BT0
elif [ ${PBS_ARRAYID} -ge ${EXStep_TW32_WSMemAT1_WFRModAT0_FRModAdjust0.0625_BT0_MINRID} ] && [ ${PBS_ARRAYID} -le ${EXStep_TW32_WSMemAT1_WFRModAT0_FRModAdjust0.0625_BT0_MAXRID} ]; then
  TAG_WIDTH=32
  AFTER_MAZE_TRIAL__WIPE_SHARED_MEM=1
  AFTER_MAZE_TRIAL__CLEAR_FUNC_REF_MODS=0
  REF_MOD_ADJUSTMENT_VALUE=0.0625
  SGP_HW_MIN_BIND_THRESH=0.0

# Treatment: EXStep_TW32_WSMemAT1_WFRModAT0_FRModAdjust0.125_BT75
elif [ ${PBS_ARRAYID} -ge ${EXStep_TW32_WSMemAT1_WFRModAT0_FRModAdjust0.125_BT75_MINRID} ] && [ ${PBS_ARRAYID} -le ${EXStep_TW32_WSMemAT1_WFRModAT0_FRModAdjust0.125_BT75_MAXRID} ]; then
  TAG_WIDTH=32
  AFTER_MAZE_TRIAL__WIPE_SHARED_MEM=1
  AFTER_MAZE_TRIAL__CLEAR_FUNC_REF_MODS=0
  REF_MOD_ADJUSTMENT_VALUE=0.125
  SGP_HW_MIN_BIND_THRESH=0.75

# Treatment: EXStep_TW32_WSMemAT1_WFRModAT0_FRModAdjust0.125_BT50
elif [ ${PBS_ARRAYID} -ge ${EXStep_TW32_WSMemAT1_WFRModAT0_FRModAdjust0.125_BT50_MINRID} ] && [ ${PBS_ARRAYID} -le ${EXStep_TW32_WSMemAT1_WFRModAT0_FRModAdjust0.125_BT50_MAXRID} ]; then
  TAG_WIDTH=32
  AFTER_MAZE_TRIAL__WIPE_SHARED_MEM=1
  AFTER_MAZE_TRIAL__CLEAR_FUNC_REF_MODS=0
  REF_MOD_ADJUSTMENT_VALUE=0.125
  SGP_HW_MIN_BIND_THRESH=0.50

# Treatment: EXStep_TW32_WSMemAT1_WFRModAT0_FRModAdjust0.125_BT0
elif [ ${PBS_ARRAYID} -ge ${EXStep_TW32_WSMemAT1_WFRModAT0_FRModAdjust0.125_BT0_MINRID} ] && [ ${PBS_ARRAYID} -le ${EXStep_TW32_WSMemAT1_WFRModAT0_FRModAdjust0.125_BT0_MAXRID} ]; then
  TAG_WIDTH=32
  AFTER_MAZE_TRIAL__WIPE_SHARED_MEM=1
  AFTER_MAZE_TRIAL__CLEAR_FUNC_REF_MODS=0
  REF_MOD_ADJUSTMENT_VALUE=0.125
  SGP_HW_MIN_BIND_THRESH=0.0

# Treatment: EXStep_TW32_WSMemAT1_WFRModAT0_FRModAdjust0.25_BT75
elif [ ${PBS_ARRAYID} -ge ${EXStep_TW32_WSMemAT1_WFRModAT0_FRModAdjust0.25_BT75_MINRID} ] && [ ${PBS_ARRAYID} -le ${EXStep_TW32_WSMemAT1_WFRModAT0_FRModAdjust0.25_BT75_MAXRID} ]; then
  TAG_WIDTH=32
  AFTER_MAZE_TRIAL__WIPE_SHARED_MEM=1
  AFTER_MAZE_TRIAL__CLEAR_FUNC_REF_MODS=0
  REF_MOD_ADJUSTMENT_VALUE=0.25
  SGP_HW_MIN_BIND_THRESH=0.75

# Treatment: EXStep_TW32_WSMemAT1_WFRModAT0_FRModAdjust0.25_BT50
elif [ ${PBS_ARRAYID} -ge ${EXStep_TW32_WSMemAT1_WFRModAT0_FRModAdjust0.25_BT50_MINRID} ] && [ ${PBS_ARRAYID} -le ${EXStep_TW32_WSMemAT1_WFRModAT0_FRModAdjust0.25_BT50_MAXRID} ]; then
  TAG_WIDTH=32
  AFTER_MAZE_TRIAL__WIPE_SHARED_MEM=1
  AFTER_MAZE_TRIAL__CLEAR_FUNC_REF_MODS=0
  REF_MOD_ADJUSTMENT_VALUE=0.25
  SGP_HW_MIN_BIND_THRESH=0.50

# Treatment: EXStep_TW32_WSMemAT1_WFRModAT0_FRModAdjust0.25_BT0
elif [ ${PBS_ARRAYID} -ge ${EXStep_TW32_WSMemAT1_WFRModAT0_FRModAdjust0.25_BT0_MINRID} ] && [ ${PBS_ARRAYID} -le ${EXStep_TW32_WSMemAT1_WFRModAT0_FRModAdjust0.25_BT0_MAXRID} ]; then
  TAG_WIDTH=32
  AFTER_MAZE_TRIAL__WIPE_SHARED_MEM=1
  AFTER_MAZE_TRIAL__CLEAR_FUNC_REF_MODS=0
  REF_MOD_ADJUSTMENT_VALUE=0.25
  SGP_HW_MIN_BIND_THRESH=0.0

# Treatment: EXStep_TW32_WSMemAT0_WFRModAT1_FRModAdjust0.125_BT50
elif [ ${PBS_ARRAYID} -ge ${EXStep_TW32_WSMemAT0_WFRModAT1_FRModAdjust0.125_BT50_MINRID} ] && [ ${PBS_ARRAYID} -le ${EXStep_TW32_WSMemAT0_WFRModAT1_FRModAdjust0.125_BT50_MAXRID} ]; then
  TAG_WIDTH=32
  AFTER_MAZE_TRIAL__WIPE_SHARED_MEM=0
  AFTER_MAZE_TRIAL__CLEAR_FUNC_REF_MODS=1
  REF_MOD_ADJUSTMENT_VALUE=0.125
  SGP_HW_MIN_BIND_THRESH=0.50

# Treatment: EXStep_TW32_WSMemAT1_WFRModAT1_FRModAdjust0.125_BT50
elif [ ${PBS_ARRAYID} -ge ${EXStep_TW32_WSMemAT1_WFRModAT1_FRModAdjust0.125_BT50_MINRID} ] && [ ${PBS_ARRAYID} -le ${EXStep_TW32_WSMemAT1_WFRModAT1_FRModAdjust0.125_BT50_MAXRID} ]; then
  TAG_WIDTH=32
  AFTER_MAZE_TRIAL__WIPE_SHARED_MEM=1
  AFTER_MAZE_TRIAL__CLEAR_FUNC_REF_MODS=1
  REF_MOD_ADJUSTMENT_VALUE=0.125
  SGP_HW_MIN_BIND_THRESH=0.50

fi

MAZE_CELL_TAG_GENERATION_METHOD=1
MAZE_CELL_TAG_FPATH=mazetags_TW${TAG_WIDTH}.csv

EXEC=t_maze_TW${TAG_WIDTH}

RUN_NAME=EXStep_TW${TAG_WIDTH}_WSMemAT${AFTER_MAZE_TRIAL__WIPE_SHARED_MEM}_WFRModAT${AFTER_MAZE_TRIAL__CLEAR_FUNC_REF_MODS}_FRModAdjust${REF_MOD_ADJUSTMENT_VALUE}_BT${SGP_HW_MIN_BIND_THRESH}_${RANDOM_SEED}

RUN_DIR=${DATA_DIR}/${RUN_NAME}
mkdir -p ${RUN_DIR}

# CD to appropriate directory.
cd ${RUN_DIR}
# Copy over configs
cp -R ${CONFIG_DIR}/configs/* ./
# Copy over executable
cp ${CONFIG_DIR}/executables/${EXEC} ./


# Run experiment.
./${EXEC} -RANDOM_SEED ${RANDOM_SEED} -AFTER_MAZE_TRIAL__WIPE_SHARED_MEM ${AFTER_MAZE_TRIAL__WIPE_SHARED_MEM} -AFTER_MAZE_TRIAL__CLEAR_FUNC_REF_MODS ${AFTER_MAZE_TRIAL__CLEAR_FUNC_REF_MODS} -REF_MOD_ADJUSTMENT_VALUE ${REF_MOD_ADJUSTMENT_VALUE} -SGP_HW_MIN_BIND_THRESH ${SGP_HW_MIN_BIND_THRESH} -MAZE_CELL_TAG_GENERATION_METHOD ${MAZE_CELL_TAG_GENERATION_METHOD} -MAZE_CELL_TAG_FPATH ${MAZE_CELL_TAG_FPATH} > run.log